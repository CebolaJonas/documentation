<style>
  .markdoc__hidden {
    background-color: lightgray;
  }
  .markdoc-pref__pill {
    display: inline-block;
    padding: 5px 10px;
    margin-right: 6px;
    margin-bottom: 10px;
    border: 1px solid lightgray;
    cursor: pointer;
    font-weight: bold;
    border-radius: 5px;
  }
  .markdoc-pref__pill.selected {
    color: white;
    background-color: #632ca6;
    border-color: #632ca6;
  }
  .markdoc-pref__label {
    text-transform: uppercase;
    font-size: 14px;
    font-weight: 400;
    margin-bottom: 5px;
  }
  .markdoc-pref__container {
    display: inline-block;
    margin-right: 25px;
  }
</style>
<script>
  function handleValueChange(varName, newValue) {
    console.log("handleValueChange called");
    console.log("varName:", varName);
    console.log("newValue:", newValue);
  }
</script>
<div>
  <div class="markdoc-pref__container">
    <div class="markdoc-pref__label">Color</div>
    <div>
      <div>
        <div
          class="markdoc-pref__pill"
          onclick="handleValueChange('color', 'red')"
        >
          Red
        </div>
        <div
          class="markdoc-pref__pill"
          onclick="handleValueChange('color', 'yellow')"
        >
          Yellow
        </div>
        <div
          class="markdoc-pref__pill selected"
          onclick="handleValueChange('color', 'green')"
        >
          Green
        </div>
      </div>
    </div>
  </div>
  <div class="markdoc-pref__container">
    <div class="markdoc-pref__label">Item</div>
    <div>
      <div>
        <div
          class="markdoc-pref__pill selected"
          onclick="handleValueChange('item', 'grass')"
        >
          Grass
        </div>
        <div
          class="markdoc-pref__pill"
          onclick="handleValueChange('item', 'emerald')"
        >
          Emerald
        </div>
        <div
          class="markdoc-pref__pill"
          onclick="handleValueChange('item', 'lime')"
        >
          Lime
        </div>
        <div
          class="markdoc-pref__pill"
          onclick="handleValueChange('item', 'frog')"
        >
          Frog
        </div>
      </div>
    </div>
  </div>
</div>
<hr />
<article>
  <p>
    This test page explores everyday items that are green, yellow, or red --
    which also happen to be the colors of the common traffic light. If this
    seems contrived and odd, that's only because test pages are often both of
    those things.
  </p>
  <h2>grass: Your green item of choice</h2>
  <div>
    <div>
      <p>
        Grass is a very common lawn plant. Alternatives to grass include clover
        and moss.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Emeralds are a type of gemstone. They're not known for being very
        durable.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Limes are a type of citrus fruit. They're often used in drinks and
        cooking.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>Frogs are amphibians. They're known for their jumping abilities.</p>
    </div>
  </div>
  <div class="markdoc__hidden">
    <div class="markdoc__hidden">
      <p>
        Bananas are a type of fruit. They're often eaten raw or used in baking.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Sunflowers are a type of flower. They're known for their large, yellow
        petals.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Lemons are a type of citrus fruit. They're often used in drinks and
        cooking.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        School buses are a type of vehicle. They're often used to transport
        students to and from school.
      </p>
    </div>
  </div>
  <div class="markdoc__hidden">
    <div class="markdoc__hidden">
      <p>
        Rubies are a type of gemstone. They're known for their deep red color.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Apples are a type of fruit. They're often eaten raw or used in baking.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Firetrucks are a type of vehicle. They're often used to transport
        firefighters and equipment to emergency situations.
      </p>
    </div>
    <div class="markdoc__hidden">
      <p>
        Stop signs are a type of traffic sign. They're used to indicate that
        drivers should stop their vehicles.
      </p>
    </div>
  </div>
</article>
<script>
  const renderableTree = {
    $$mdtype: "Tag",
    name: "article",
    attributes: {},
    children: [
      {
        $$mdtype: "Tag",
        name: "p",
        attributes: {},
        children: [
          "This test page explores everyday items that are green, yellow, or red -- which also happen to be the colors of the common traffic light. If this seems contrived and odd, that's only because test pages are often both of those things.",
        ],
      },
      {
        $$mdtype: "Tag",
        name: "h2",
        attributes: {},
        children: [
          {
            $$mdtype: "Variable",
            path: ["item"],
            value: "grass",
          },
          ": Your ",
          {
            $$mdtype: "Variable",
            path: ["color"],
            value: "green",
          },
          " item of choice",
        ],
      },
      {
        $$mdtype: "Tag",
        name: "div",
        if: {
          $$mdtype: "Function",
          name: "equals",
          value: true,
          parameters: {
            0: {
              $$mdtype: "Variable",
              path: ["color"],
              value: "green",
            },
            1: "green",
          },
        },
        attributes: {
          display: "true",
        },
        children: [
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: true,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "grass",
              },
            },
            attributes: {
              display: "true",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Grass is a very common lawn plant. Alternatives to grass include clover and moss.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "emerald",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Emeralds are a type of gemstone. They're not known for being very durable.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "lime",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Limes are a type of citrus fruit. They're often used in drinks and cooking.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "frog",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Frogs are amphibians. They're known for their jumping abilities.",
                ],
              },
            ],
          },
        ],
      },
      {
        $$mdtype: "Tag",
        name: "div",
        if: {
          $$mdtype: "Function",
          name: "equals",
          value: false,
          parameters: {
            0: {
              $$mdtype: "Variable",
              path: ["color"],
              value: "green",
            },
            1: "yellow",
          },
        },
        attributes: {
          display: "false",
        },
        children: [
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "banana",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Bananas are a type of fruit. They're often eaten raw or used in baking.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "sunflower",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Sunflowers are a type of flower. They're known for their large, yellow petals.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "lemon",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Lemons are a type of citrus fruit. They're often used in drinks and cooking.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "school_bus",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "School buses are a type of vehicle. They're often used to transport students to and from school.",
                ],
              },
            ],
          },
        ],
      },
      {
        $$mdtype: "Tag",
        name: "div",
        if: {
          $$mdtype: "Function",
          name: "equals",
          value: false,
          parameters: {
            0: {
              $$mdtype: "Variable",
              path: ["color"],
              value: "green",
            },
            1: "red",
          },
        },
        attributes: {
          display: "false",
        },
        children: [
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "ruby",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Rubies are a type of gemstone. They're known for their deep red color.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "apple",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Apples are a type of fruit. They're often eaten raw or used in baking.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "firetruck",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Firetrucks are a type of vehicle. They're often used to transport firefighters and equipment to emergency situations.",
                ],
              },
            ],
          },
          {
            $$mdtype: "Tag",
            name: "div",
            if: {
              $$mdtype: "Function",
              name: "equals",
              value: false,
              parameters: {
                0: {
                  $$mdtype: "Variable",
                  path: ["item"],
                  value: "grass",
                },
                1: "stop_sign",
              },
            },
            attributes: {
              display: "false",
            },
            children: [
              {
                $$mdtype: "Tag",
                name: "p",
                attributes: {},
                children: [
                  "Stop signs are a type of traffic sign. They're used to indicate that drivers should stop their vehicles.",
                ],
              },
            ],
          },
        ],
      },
    ],
  };

  const pagePrefsConfig = [
    {
      display_name: "Color",
      identifier: "color",
      options_source: "traffic_light_color_options",
    },
    {
      display_name: "Item",
      identifier: "item",
      options_source: "green_item_options",
    },
  ];

  const prefOptionsConfig = {
    traffic_light_color_options: [
      {
        display_name: "Red",
        identifier: "red",
      },
      {
        display_name: "Yellow",
        identifier: "yellow",
      },
      {
        display_name: "Green",
        default: true,
        identifier: "green",
      },
    ],
    red_item_options: [
      {
        display_name: "Ruby",
        identifier: "ruby",
      },
      {
        display_name: "Apple",
        default: true,
        identifier: "apple",
      },
      {
        display_name: "Firetruck",
        identifier: "firetruck",
      },
      {
        display_name: "Stop sign",
        identifier: "stop_sign",
      },
    ],
    yellow_item_options: [
      {
        display_name: "Banana",
        default: true,
        identifier: "banana",
      },
      {
        display_name: "Sunflower",
        identifier: "sunflower",
      },
      {
        display_name: "Lemon",
        identifier: "lemon",
      },
      {
        display_name: "School bus",
        identifier: "school_bus",
      },
    ],
    green_item_options: [
      {
        display_name: "Grass",
        default: true,
        identifier: "grass",
      },
      {
        display_name: "Emerald",
        identifier: "emerald",
      },
      {
        display_name: "Lime",
        identifier: "lime",
      },
      {
        display_name: "Frog",
        identifier: "frog",
      },
    ],
  };
</script>
